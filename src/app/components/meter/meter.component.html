<app-header></app-header>

<div id="box-content">
    <mat-card class="mat-elevation-z8">
        <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
                <img style="margin-right:10px; padding-bottom: 8px;" src="assets/icons/meter.svg" width="24">
                <mat-card-title style="display:inline-block; font-size: 17px;">
                    Meter Monitering 
                </mat-card-title>
            </div>
        </div>

        <mat-card-content>
            <table mat-table [dataSource]="dataSource" matSort class="hearder"  style="width: 100%;">
                <!-- Position Column -->
                <ng-container matColumnDef="time">
                    <th class="w-180 " mat-header-cell *matHeaderCellDef> Date Time </th>
                    <td mat-cell *matCellDef="let element"> {{element.time | date:"medium"}} </td>
                </ng-container>

                <!-- conv_ip Column -->
                <ng-container matColumnDef="conv_ip">
                    <th mat-header-cell *matHeaderCellDef> Converter IP </th>
                    <td mat-cell *matCellDef="let element"> {{element.conv_ip}} </td>
                </ng-container>

                <!-- senser_id Column -->
                <ng-container matColumnDef="sensor_id">
                    <th mat-header-cell *matHeaderCellDef> Meter ID </th>
                    <td mat-cell *matCellDef="let element"> {{element.sensor_id}} </td>
                </ng-container>

                <!-- kwh Column -->
                <ng-container matColumnDef="kwh">
                    <th mat-header-cell *matHeaderCellDef> Kwh </th>
                    <td mat-cell *matCellDef="let element"> {{element.kwh}} </td>
                </ng-container>

                <!-- status Column -->
                <ng-container align="end" matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef> status </th>
                    <td mat-cell *matCellDef="let element">
                        <div [ngClass]="{'make-green': element.status == 'online',
                        'make-red': element.status == 'offline'}"> {{element.status}}
                        </div>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </mat-card-content>
    </mat-card>
</div>